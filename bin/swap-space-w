#!/bin/bash

shopt -s extglob

function swap_on {
    xmodmap - <<EOF
! swap the meanings of spacebar and w, for the purpose of playing fighting games.
keycode 65 = w
keycode 25 = space
EOF
}

function swap_off {
    xmodmap - <<EOF
! swap the meanings of spacebar and w, for the purpose of playing fighting games.
keycode 25 = w
keycode 65 = space
EOF
}

case $1 in
    ?(-|--)on)
        echo "on"
        swap_on
        ;;

    ?(-|--)off)
        echo "off"
        swap_off
        ;;

    *)
        echo "no match"
        exit 1
        ;;
esac
